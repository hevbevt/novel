# 角色目录说明

本目录按评分等级分层（基于人物权重值），用于统一管理人物介绍文档。

- `main/`：主角级角色（叙事核心）。
- `core/`：核心配角（长期推动主线）。
- `supporting/`：重要配角（关键事件节点）。
- `minor/`：支线角色（阶段性活跃）。
- `cameo/`：客串角色（短暂出现但有辨识度）。

每个角色一份文档，文件名用拼音小写与下划线，正文用中文。

## 字段约定

- 文档内“叙事重要度”：保留原始人工标注，不随评分自动改写。
- 文档内“评分等级”：依据评分分段自动同步，用于目录分层与图谱权重。
- 数据内“权重值”：模型计算结果（0–100），用于列表排序与图谱节点大小。

## 人物关系图谱

<ClientOnly>
  <RelationGraph />
</ClientOnly>

## 人物权重模型（C方案）

用于给人物打分、自动分类并同步影响关系图节点大小。评分只依赖已有分析资料（docs）。

### 评分构成
- 规则分（来自“叙事重要度”字段）：
  - 主角：90
  - 核心配角：75
  - 重要配角：60
  - 支线角色：45
  - 客串角色：25
- 频次分（按出现次数计分，合并别称/化名/身份）：
  - `docs/plot/PLOT_ROADMAP_1-500.md` 权重 1.0
  - `docs/plot/PLOT_ROADMAP_501-1000.md` 权重 1.0
  - `docs/plot/PLOT_ROADMAP_1001-1500.md` 权重 1.0
  - `docs/world/WORLDVIEW.md` 权重 0.6
  - `docs/CHARACTER_RELATIONS.md` 权重 0.8
  - `docs/factions/**` 权重 0.6
  - 频次分按加权总次数取对数归一化到 0–100
- 中心性分（基于关系图谱的网络地位）：
  - degree（度中心性，邻居数）
  - PageRank（PR）
  - 组合：degree 40% + PR 60%，归一化到 0–100
- 最终权重值：规则 55% + 频次 25% + 中心性 20%，上限 100 分

### 分段规则（自动分类）
- ≥60：主角
- 50–59：核心配角
- 40–49：重要配角
- 30–39：支线角色
- <30：客串角色

### 应用范围
- `public/data/characters_list.json` 中的 `category` 与 `score`
- 关系图节点大小（score → symbolSize）
